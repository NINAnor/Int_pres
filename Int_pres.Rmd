---
title: "Reproduserbare analyser"
subtitle: "Markdown, shiny, og git i NINA"
author: "Jens Åström"
date: "`r format(Sys.time(), '%d %b, %Y')`"
output: 
  NinaR::nina_slidy:
    self-contained: yes
runtime: shiny
---

```{r setup, include=FALSE}
require(NinaR)
require(knitr)
opts_chunk$set(echo = TRUE, tidy = TRUE)
```
Innhold
========

- Reproduserbarhet
- (r)markdown
- Shiny
- NinaR
- Git

Reproduserbarhet
============



Markdown
========

- Intro markdown
    + Gå igjennom alle fordeler med å bruke rmarkdown i dagligt bruk
    + Reproduserbarhet
    + Eksempel på ulike outputs
    + Referanseliste, sitere, JRef
    + Vis kortrapport-templat
    + Slidy-templat
    + Encodings! UTF-8
    + xtable, knitr::kable
    
Innhold (forts.)
==========

- Steg fra start, installasjon rstudio, MikTeX, NinaR
- Automatiserte, gjennbruke templater
- Shiny
    + Diverse brukstyper
    + Eksempel
    + Visualisere
    + Laste ned
    + Laste opp
    + Seatrack, DS_kursapp, humle/iframe

Innhold (forts.)
==============

- Git
    + NINAnor
    + Bruke i R
    + Terminal
    + Provosere frem god arbeidsmåte, folderstruktur.
- NinaR
    + Andre funksjoner (enn templater)
    + Skriv funksjoner
- Begynn her
    + linker til info til de ulike verktøyen
    


To-do
========

- Beamer-templat
    + Sub-bullet
- Bullet 2
- Bullet 3

NinaR - en R-pakke for NINA!
========

- R blir altmer "standarden" for statistisk analyse, også i NINA
    + Hvorfør ikke lage en R-pakke med funksjoner tilpasset NINA?

NinaR - en R-pakke for NINA!
========

- R blir altmer "standarden" for statistisk analyse, også i NINA
    + Hvorfør ikke lage en R-pakke med funksjoner tilpasset NINA?

```{r, eval=F}
library(devtools)
install_github("NINAnor/NinaR")
```

```{r, echo=F, out.width = 400, fig.retina = NULL, fig.cap="Available functions in NinaR V 0.0.4"}
include_graphics("./img/NinaR_help.png")
```


Rapport-maller
==========

![Mall for kortrapport i R!](img/new_template.png)

Alternativt
```{r, eval=F}
rmarkdown::draft("new_report", "nina_kortrapport", package="NinaR")
```

Rapport-maller
==========

```{r, echo=F, out.width = 600, fig.retina = NULL, fig.cap="Nina kortrapport template"}
include_graphics("./img/nina_kort_template.png")
```

Rapport-maller
==========

```{r, echo=F, out.width = 500, fig.retina = NULL, fig.cap="Nina kortrapport template"}
include_graphics("./img/titleborder.png")
```

Rapport-maller
==========

- Pros
    + bra
- Cons
    + dårligt

Presentasjon-maller
===========

![Mall for presentasjoner i R!](img/new_template.png)

Alternativt
```{r, eval=F}
rmarkdown::draft("new_report", "nina_slidy", package="NinaR")
```

NINA-grafik
==========

```{r, out.width=700}
NinaPalette()

plot((1:10)^2, 1:10, col=NinaPalette(), cex=4, pch=16, las=1)

```

NINA-grafik
==========

```{r, message=F, out.width=700}
NinaPalette()

plot((1:10)^2, 1:10, col=NinaPalette(), cex=4, pch=16, las=1)
addLogo()

```

NINA-grafik
==========


```{r, out.width=700}
plot((1:10)^2, 1:10, col=NinaPalette(), cex=4, pch=16, las=1, type="n")
addLogo(x = 0.5, y = 0.5, size = 1)
grid.rect(gp = gpar(fill = rgb(1, 1, 1, .6)))
points((1:10)^2, 1:10, col=NinaPalette(), cex=4, pch=16)
```



Side med Shiny-app
=========

```{r eruptions, echo=FALSE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20),
  
  sliderInput("bw_adjust", label = "Bandwidth adjustment:",
              min = 0.2, max = 2, value = 1, step = 0.2)
)

renderPlot({
  hist(faithful$eruptions, probability = TRUE, breaks = as.numeric(input$n_breaks),
       xlab = "Duration (minutes)", main = "Geyser eruption duration")
  
  dens <- density(faithful$eruptions, adjust = input$bw_adjust)
  lines(dens, col = "blue")
})
```
